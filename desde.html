<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Desde Que Te Conheci - Cartas de Amor</title>
    <!-- Bibliotecas de Anima√ß√£o -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <style>
        /* ========== SCROLLBAR PERSONALIZADA ========== */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(51, 44, 43, 0.6);
            border-radius: 10px;
            border: 1px solid rgba(94, 74, 71, 0.5);
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #f08080, #d16565);
            border-radius: 10px;
            border: 2px solid rgba(51, 44, 43, 0.3);
            box-shadow: 0 0 10px rgba(240, 128, 128, 0.4);
            transition: all 0.3s ease;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #ff9999, #f08080);
            box-shadow: 0 0 15px rgba(240, 128, 128, 0.8), 0 0 30px rgba(240, 128, 128, 0.4);
            transform: scale(1.05);
        }

        ::-webkit-scrollbar-thumb:active {
            background: linear-gradient(180deg, #d16565, #b54a4a);
            transform: scale(0.95);
        }

        ::-webkit-scrollbar-corner {
            background: rgba(51, 44, 43, 0.6);
        }

        * {
            scrollbar-width: thin;
            scrollbar-color: #f08080 rgba(51, 44, 43, 0.6);
        }

        ::-webkit-scrollbar-horizontal {
            height: 10px;
        }

        ::-webkit-scrollbar-horizontal::-webkit-scrollbar-thumb {
            background: linear-gradient(90deg, #f08080, #d16565);
        }

        .modal-content::-webkit-scrollbar {
            width: 8px;
        }

        .modal-content::-webkit-scrollbar-track {
            background: rgba(51, 44, 43, 0.8);
            border-radius: 10px;
        }

        .modal-content::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #f08080, #d16565);
            border-radius: 10px;
            box-shadow: 0 0 8px rgba(240, 128, 128, 0.5);
        }

        .modal-content::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #ff9999, #f08080);
            box-shadow: 0 0 12px rgba(240, 128, 128, 0.8);
        }

        /* ========== ESTILO ORIGINAL (MANTIDO 100%) ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: all 0.3s ease;
        }

        body {
            font-family: 'Cormorant Garamond', serif;
            background: #332c2b;
            color: #e0dcdb;
            min-height: 100vh;
            padding: 20px;
            font-size: 18px;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: #4a3b39;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
            border: 1px solid #5e4a47;
            position: relative;
            z-index: 10;
        }

        .header {
            text-align: center;
            color: #f08080;
            margin-bottom: 25px;
            font-size: 2.6rem;
            font-weight: bold;
        }

        .letter-full {
            display: block;
            padding: 20px;
        }

        .letter-content {
            line-height: 1.8;
            margin-bottom: 20px;
            font-size: 1.20rem;
            color: #e0dcdb;
        }

        .letter-date {
            font-size: 1rem;
            color: #f08080;
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
        }

        .letter-title {
            text-align: center;
            font-size: 1.5rem;
            margin: 10px 0 25px 0;
            color: #f08080;
        }

        .back-button {
            display: block;
            text-align: center;
            margin-top: 25px;
            color: #f08080;
            font-weight: bold;
            text-decoration: none;
            font-size: 1.1rem;
            padding: 10px;
            border: 1px solid #f08080;
            border-radius: 25px;
            width: fit-content;
            margin-left: auto;
            margin-right: auto;
        }

        .back-button:hover {
            background: #f08080;
            color: white;
            transform: translateY(-2px);
        }

        .hidden {
            display: none;
        }

        @media only screen and (max-width: 414px) {
            body {
                padding: 15px 10px;
                font-size: 16px;
            }

            .container {
                padding: 20px;
            }

            .header {
                font-size: 1.8rem;
                margin-bottom: 20px;
            }

            .letter-title {
                font-size: 1.5rem;
            }

            .letter-content {
                font-size: 1.1rem;
            }
        }

        /* ========== NOVAS ANIMA√á√ïES E ELEMENTOS ========== */

        /* Canvas para Three.js (fundo sutil) */
        #heartParticles {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 30vh;
            pointer-events: none;
            z-index: 1;
            opacity: 0.6;
        }

        /* Bot√£o de intera√ß√µes */
        .interactions-btn {
            display: block;
            width: 100%;
            margin: 20px 0;
            padding: 15px;
            background: linear-gradient(135deg, #f08080, #d16565);
            color: white;
            border: none;
            border-radius: 30px;
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(240, 128, 128, 0.4);
            animation: pulse 2s infinite;
        }

        .interactions-btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 6px 20px rgba(240, 128, 128, 0.6);
        }

        @keyframes pulse {

            0%,
            100% {
                box-shadow: 0 4px 15px rgba(240, 128, 128, 0.4);
            }

            50% {
                box-shadow: 0 4px 25px rgba(240, 128, 128, 0.8);
            }
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            padding: 20px;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: #4a3b39;
            border-radius: 20px;
            padding: 25px;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            border: 2px solid #f08080;
            box-shadow: 0 0 30px rgba(240, 128, 128, 0.5);
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .modal-overlay.active .modal-content {
            transform: scale(1);
        }

        .modal-header {
            text-align: center;
            color: #f08080;
            font-size: 1.8rem;
            margin-bottom: 20px;
            border-bottom: 1px solid #5e4a47;
            padding-bottom: 15px;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 1.5rem;
            color: #f08080;
            cursor: pointer;
            background: none;
            border: none;
        }

        /* Love Calculator */
        .love-calculator {
            text-align: center;
            padding: 15px 0;
        }

        .love-inputs {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        .love-inputs input {
            flex: 1;
            min-width: 120px;
            padding: 12px;
            border: 2px solid #5e4a47;
            border-radius: 10px;
            background: #332c2b;
            color: #e0dcdb;
            font-family: 'Cormorant Garamond', serif;
            font-size: 1rem;
            text-align: center;
        }

        .love-inputs input:focus {
            outline: none;
            border-color: #f08080;
        }

        .love-btn {
            background: #f08080;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            margin: 10px 0;
            font-weight: bold;
        }

        .love-result {
            font-size: 3rem;
            color: #f08080;
            font-weight: bold;
            margin: 15px 0;
            text-shadow: 0 0 20px rgba(240, 128, 128, 0.8);
        }

        .love-message {
            font-style: italic;
            color: #a9a9a9;
            margin-top: 10px;
        }

        /* Couple Quiz */
        .quiz-reset-btn:hover {
            background: #8b6f6a;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(240, 128, 128, 0.3);
        }

        .couple-quiz {
            padding: 15px 0;
            border-top: 1px solid #5e4a47;
            margin-top: 20px;
        }

        .quiz-question {
            margin: 15px 0;
            padding: 15px;
            background: #332c2b;
            border-radius: 10px;
            border-left: 3px solid #f08080;
        }

        .quiz-question p {
            margin-bottom: 10px;
            font-weight: bold;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .quiz-options label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            padding: 8px;
            border-radius: 5px;
        }

        .quiz-options label:hover {
            background: #5e4a47;
        }

        .quiz-options input {
            accent-color: #f08080;
        }

        .quiz-submit {
            width: 100%;
            background: #f08080;
            color: white;
            border: none;
            padding: 12px;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 15px;
            font-weight: bold;
        }

        .quiz-result {
            margin-top: 15px;
            padding: 15px;
            background: #332c2b;
            border-radius: 10px;
            text-align: center;
            display: none;
        }

        .quiz-result.show {
            display: block;
            animation: bounceIn 0.5s ease;
        }

        @keyframes bounceIn {
            0% {
                transform: scale(0.8);
                opacity: 0;
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* Bot√£o "Tentar de novo" estilizado */
        .quiz-reset-btn {
            width: 100%;
            background: #725c58;
            color: white;
            border: none;
            padding: 12px;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 15px;
            font-weight: bold;
            display: none;
        }

        .quiz-reset-btn.show {
            display: block;
            animation: bounceIn 0.5s ease;
        }

        .quiz-reset-btn:hover {
            background: #8b6f6a;
            transform: translateY(-2px);
        }

        /* Indicador de vibra√ß√£o ativa */
        .vibration-indicator {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background: #f08080;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 1000;
            animation: heartbeat 0.6s ease-in-out infinite;
        }

        .vibration-indicator.active {
            opacity: 1;
        }

        @keyframes heartbeat {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }
        }

        /* Bot√£o de Controle de M√∫sica */
        .music-control {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: linear-gradient(135deg, #f08080, #d16565);
            width: 55px;
            height: 55px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 15px rgba(240, 128, 128, 0.5);
            cursor: pointer;
            z-index: 1000;
            border: 2px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            animation: musicPulse 2s infinite;
        }

        .music-control:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(240, 128, 128, 0.8);
            animation: none;
        }

        .music-control:active {
            transform: scale(0.95);
        }

        .music-icon {
            font-size: 22px;
            color: white;
        }

        @keyframes musicPulse {

            0%,
            100% {
                box-shadow: 0 4px 15px rgba(240, 128, 128, 0.5);
            }

            50% {
                box-shadow: 0 4px 25px rgba(240, 128, 128, 0.8),
                    0 0 30px rgba(240, 128, 128, 0.4);
            }
        }

        /* Ajuste para mobile */
        @media only screen and (max-width: 414px) {
            .music-control {
                width: 50px;
                height: 50px;
                bottom: 15px;
                left: 15px;
            }

            .music-icon {
                font-size: 20px;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Canvas para part√≠culas Three.js -->
    <canvas id="heartParticles"></canvas>

    <!-- Bot√£o de M√∫sica -->
    <div class="music-control" onclick="toggleMusic()">
        <i id="musicIcon" class="fas fa-music"></i>
    </div>

    <!-- Indicador de vibra√ß√£o -->
    <div id="vibrationIndicator" class="vibration-indicator">
        <i class="fas fa-music"></i>
    </div>

    <!-- Elemento de √Åudio -->
    <audio id="backgroundMusic" loop>
        <source src="music.mp3" type="audio/mpeg">
    </audio>

    <div class="container">
        <div class="letter-full">
            <h1 class="header" id="headerName">Nicoly Gomes</h1>
            <h1 class="letter-title">Desde Que Te Conheci</h1>

            <div class="letter-content" id="letterContent">
                <p><span>Desde que te conheci eu soube que voc√™ seria o melhor pra mim, e eu o melhor pra voc√™.<br>
                        Desde que te conheci, eu descobri que o amor tem nome, tem decis√£o, e tem Jesus no meio.<br>
                        Desde que te conheci o que eu mais tenho certeza √© que voc√™ me faz feliz.<br>
                        Desde que te conheci eu descobri que a felicidade t√° em pequenos momentos.<br>
                        Desde que te conheci eu vi, vi que seu sorriso quando olha pra mim √© genu√≠no, por paix√£o e amor
                        entrela√ßados em uma miss√£o cooperativa de viv√™ncia.</span></p>
                <br>
                <p><span>Desde que te conheci eu aprendi que amar n√£o √© s√≥ sentir, √© escolher todos os dias permanecer,
                        mesmo quando o dia √© dif√≠cil, mesmo quando a gente t√° cansado, √© decidir que n√≥s somos
                        prioridade um do outro.</span></p>
                <p><span>Desde que te conheci eu entendi que seguran√ßa emocional existe de verdade, porque eu posso ser
                        vulner√°vel com voc√™, posso mostrar minhas falhas, meus medos, minhas inseguran√ßas, e mesmo assim
                        continuo sendo amado, sem julgamento, s√≥ com cuidado</span></p>
                <p><span>Desde que te conheci eu descobri o que √© pertencimento, aquele sentimento raro de saber que
                        existe um lugar no mundo onde eu sou esperado, lembrado, considerado, e esse lugar √© no seu
                        abra√ßo.</span></p><br>
                <p><span>Desde que te conheci eu percebi que o amor saud√°vel n√£o aperta, n√£o sufoca, n√£o disputa poder,
                        ele acolhe, ele valida sentimentos, ele escuta antes de reagir, ele constr√≥i junto, ele cresce
                        junto, ele cura partes que nem sab√≠amos que estavam feridas</span></p>
                <p><span>Desde que te conheci eu aprendi que ser amado de verdade √© ser visto por inteiro, n√£o s√≥ nas
                        minhas qualidades, mas tamb√©m nas minhas partes mais fr√°geis, e mesmo assim ser escolhido,
                        reafirmado e cuidado com const√¢ncia.</span></p><br>
                <p><span>Desde que te conheci eu entendi que amor tamb√©m √© const√¢ncia emocional, √© saber que n√£o preciso
                        disputar espa√ßo, nem provar valor o tempo todo, porque eu j√° tenho um lugar seguro no seu
                        cora√ß√£o, e isso acalma a alma de um jeito que eu nunca tinha sentido antes</span></p>
                <p><span>Desde que te conheci eu descobri que parceria √© quando dois cora√ß√µes caminham na mesma dire√ß√£o,
                        com Jesus no centro, transformando paix√£o em prop√≥sito, carinho em compromisso e sentimento em
                        constru√ß√£o di√°ria de uma vida inteira juntos.</span></p>
                <br>
                <p><span>Te amo, hoje e sempre.</span></p>
                <p><span>„Ö§„Ö§Jonas Augusto</span></p>
            </div>

            <!-- Bot√£o para abrir intera√ß√µes -->
            <button class="interactions-btn" onclick="openModal()">
                üíï Clique para Surpresas Interativas üíï
            </button>

            <a href="index.html" class="back-button">‚Üê Voltar para as Cartas</a>
        </div>
    </div>

    <!-- Modal de Intera√ß√µes -->
    <div class="modal-overlay" id="modalOverlay" onclick="closeModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <div class="modal-header">üíù Momentos Especiais</div>

            <!-- Love Calculator -->
            <div class="love-calculator">
                <h3 style="color: #f08080; margin-bottom: 10px;">üíï Calculadora do Amor</h3>
                <div class="love-inputs">
                    <input type="text" id="name1" value="Jonas" placeholder="Seu nome">
                    <input type="text" id="name2" value="Nicoly" placeholder="Nome dela">
                </div>
                <button class="love-btn" onclick="calculateLove()">Calcular Compatibilidade</button>
                <div class="love-result" id="loveResult">--%</div>
                <p class="love-message" id="loveMessage"></p>
            </div>

            <!-- Couple Quiz -->
            <div class="couple-quiz">
                <h3 style="color: #f08080; margin-bottom: 10px;">üéØ Quiz do Casal</h3>
                <div id="quizQuestions">
                    <!-- Pergunta 1 -->
                    <div class="quiz-question">
                        <p>1. Onde foi nosso Primeiro Date?</p>
                        <div class="quiz-options">
                            <label><input type="radio" name="q1" value="0"> Lanchonete</label>
                            <label><input type="radio" name="q1" value="1"> Mirante</label>
                            <label><input type="radio" name="q1" value="2"> Shopping</label>
                        </div>
                    </div>
                    <!-- Pergunta 2 -->
                    <div class="quiz-question">
                        <p>2. Qual √© a nossa m√∫sica?</p>
                        <div class="quiz-options">
                            <label><input type="radio" name="q2" value="0"> this is what falling in love feels like -
                                JVKE</label>
                            <label><input type="radio" name="q2" value="1"> Interessante - Ferrugem</label>
                            <label><input type="radio" name="q2" value="2"> Pupila - P√©ricles</label>
                        </div>
                    </div>
                    <!-- Pergunta 3 -->
                    <div class="quiz-question">
                        <p>3. O que a gente mais fala um para o outro?</p>
                        <div class="quiz-options">
                            <label><input type="radio" name="q3" value="0"> Princesa(o)</label>
                            <label><input type="radio" name="q3" value="1"> Linda(o)</label>
                            <label><input type="radio" name="q3" value="2"> Oi te amo</label>
                        </div>
                    </div>
                    <!-- Pergunta 4 -->
                    <div class="quiz-question">
                        <p>4. Um combinado que fizemos e nunca deixamos de fazer?</p>
                        <div class="quiz-options">
                            <label><input type="radio" name="q4" value="0"> Nunca dormir brigado</label>
                            <label><input type="radio" name="q4" value="1"> Sempre dar mortal carpado triplo</label>
                            <label><input type="radio" name="q4" value="2"> Pular de para-quedas</label>
                        </div>
                    </div>
                    <!-- Pergunta 5 (PEGADINHA - todas corretas) -->
                    <div class="quiz-question">
                        <p>5. O que sempre fazemos que agrada um ao outro?</p>
                        <div class="quiz-options">
                            <label><input type="radio" name="q5" value="0"> Palavras de afirma√ß√£o</label>
                            <label><input type="radio" name="q5" value="1"> Lembrancinhas praticamente o tempo
                                todo</label>
                            <label><input type="radio" name="q5" value="2"> Se elogiar 24h por dia</label>
                        </div>
                    </div>
                    <!-- Pergunta 6 -->
                    <div class="quiz-question">
                        <p>6. Quais assuntos a gente mais conversa?</p>
                        <div class="quiz-options">
                            <label><input type="radio" name="q6" value="0"> B√≠blia e f√©</label>
                            <label><input type="radio" name="q6" value="1"> Videogame</label>
                            <label><input type="radio" name="q6" value="2"> Faculdade</label>
                        </div>
                    </div>
                </div>
                <button class="quiz-submit" id="quizSubmitBtn" onclick="submitQuiz()">Ver Resultado</button>
                <div class="quiz-result" id="quizResult">
                    <p id="quizScore"></p>
                    <p id="quizMessage" style="margin-top: 10px; font-style: italic;"></p>
                    <!-- Bot√£o "Tentar de novo?" com carinha triste -->
                    <button class="quiz-reset-btn" id="quizResetBtn" onclick="resetQuiz()">
                        Tentar de novo?
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ========== 5. CONTROLE DE M√öSICA ==========
        const musicPlayer = document.getElementById('backgroundMusic');
        let musicStarted = false;

        function toggleMusic() {
            const musicIcon = document.getElementById('musicIcon');

            if (musicPlayer.paused) {
                musicPlayer.play().then(() => {
                    musicIcon.classList.remove('fa-music');
                    musicIcon.classList.add('fa-pause');

                    // Haptic feedback ao iniciar m√∫sica
                    if (navigator.vibrate) navigator.vibrate([100, 50, 100]);
                }).catch(error => {
                    console.log('Erro ao reproduzir m√∫sica:', error);
                });
            } else {
                musicPlayer.pause();
                musicIcon.classList.remove('fa-pause');
                musicIcon.classList.add('fa-music');

                // Haptic feedback ao pausar
                if (navigator.vibrate) navigator.vibrate(50);
            }
        }

        // Iniciar m√∫sica no primeiro clique (pol√≠tica de autoplay)
        document.addEventListener('click', function initMusic() {
            if (!musicStarted && musicPlayer.paused) {
                // N√£o inicia automaticamente, s√≥ prepara
                musicStarted = true;
            }
        }, { once: true });

        // Ajustar volume
        musicPlayer.volume = 0.3; // Volume em 30%
        // ========== 1. THREE.JS - PART√çCULAS DE CORA√á√ÉO FLUTUANTES ==========
        function initHeartParticles() {
            const canvas = document.getElementById('heartParticles');
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / 0.3, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });

            renderer.setSize(window.innerWidth, window.innerHeight * 0.3);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

            const heartShape = new THREE.Shape();
            const x = 0, y = 0;
            heartShape.moveTo(x + 0.25, y + 0.25);
            heartShape.bezierCurveTo(x + 0.25, y + 0.25, x + 0.2, y, x, y);
            heartShape.bezierCurveTo(x - 0.3, y, x - 0.3, y + 0.35, x - 0.3, y + 0.35);
            heartShape.bezierCurveTo(x - 0.3, y + 0.55, x - 0.1, y + 0.77, x + 0.25, y + 0.95);
            heartShape.bezierCurveTo(x + 0.6, y + 0.77, x + 0.8, y + 0.55, x + 0.8, y + 0.35);
            heartShape.bezierCurveTo(x + 0.8, y + 0.35, x + 0.8, y, x + 0.5, y);
            heartShape.bezierCurveTo(x + 0.35, y, x + 0.25, y + 0.25, x + 0.25, y + 0.25);

            const geometry = new THREE.ShapeGeometry(heartShape);
            const material = new THREE.MeshBasicMaterial({
                color: 0xf08080,
                transparent: true,
                opacity: 0.7
            });

            const hearts = [];
            const heartCount = 8;

            for (let i = 0; i < heartCount; i++) {
                const heart = new THREE.Mesh(geometry, material);
                heart.position.set(
                    (Math.random() - 0.5) * 20,
                    Math.random() * 5,
                    (Math.random() - 0.5) * 10
                );
                heart.scale.setScalar(0.3 + Math.random() * 0.4);
                heart.rotation.z = Math.random() * Math.PI;
                heart.userData = {
                    speed: 0.001 + Math.random() * 0.002,
                    oscillation: Math.random() * Math.PI * 2
                };
                scene.add(heart);
                hearts.push(heart);
            }

            camera.position.z = 15;
            let lightPulse = 0;

            function animate() {
                requestAnimationFrame(animate);
                lightPulse += 0.02;

                hearts.forEach(heart => {
                    heart.userData.oscillation += heart.userData.speed;
                    heart.position.y += Math.sin(heart.userData.oscillation) * 0.01;
                    heart.rotation.z += 0.005;
                    const pulse = 0.7 + Math.sin(lightPulse + heart.userData.oscillation * 2) * 0.1;
                    heart.material.opacity = pulse;
                });

                renderer.render(scene, camera);
            }

            animate();

            window.addEventListener('resize', () => {
                renderer.setSize(window.innerWidth, window.innerHeight * 0.3);
                camera.aspect = window.innerWidth / (window.innerHeight * 0.3);
                camera.updateProjectionMatrix();
            });
        }

        // ========== 2. ANIME.JS - ANIMA√á√ïES DE ELASTICIDADE ==========
        function initAnimeElasticity() {
            anime({
                targets: '.letter-content p',
                translateY: [30, 0],
                opacity: [0, 1],
                delay: anime.stagger(200),
                duration: 1200,
                easing: 'spring(1, 80, 10, 0)'
            });

            const btn = document.querySelector('.interactions-btn');
            btn.addEventListener('touchstart', () => {
                anime({
                    targets: btn,
                    scale: [1, 0.95, 1.05, 1],
                    duration: 300,
                    easing: 'easeInOutQuad'
                });
            });
        }

        // ========== 3. HAPTIC FEEDBACK - VIBRA√á√ÉO MUSICAL (10 SEGUNDOS) ==========
        function initHapticFeedback() {
            const indicator = document.getElementById('vibrationIndicator');
            let vibrationInterval;
            const heartBeatPattern = [200, 100, 200, 400];

            function startMusicalVibration() {
                if (!navigator.vibrate) return;
                indicator.classList.add('active');
                const startTime = Date.now();
                const duration = 10000;

                vibrationInterval = setInterval(() => {
                    if (Date.now() - startTime >= duration) {
                        stopVibration();
                        return;
                    }
                    navigator.vibrate(heartBeatPattern);
                }, 900);
            }

            function stopVibration() {
                clearInterval(vibrationInterval);
                navigator.vibrate(0);
                indicator.classList.remove('active');
            }

            document.addEventListener('click', () => {
                startMusicalVibration();
            }, { once: true });
        }

        // ========== 4. MODAL E INTERA√á√ïES ==========
        function openModal() {
            const modal = document.getElementById('modalOverlay');
            modal.classList.add('active');
            anime({
                targets: '.modal-content',
                scale: [0.8, 1],
                opacity: [0, 1],
                duration: 400,
                easing: 'easeOutElastic(1, .8)'
            });
            if (navigator.vibrate) navigator.vibrate(50);
        }

        function closeModal(event) {
            if (event && event.target !== event.currentTarget) return;
            const modal = document.getElementById('modalOverlay');
            modal.classList.remove('active');
            if (navigator.vibrate) navigator.vibrate([30, 30, 30]);
        }

        // Love Calculator
        function calculateLove() {
            const name1 = document.getElementById('name1').value.toLowerCase().trim();
            const name2 = document.getElementById('name2').value.toLowerCase().trim();
            const resultEl = document.getElementById('loveResult');
            const messageEl = document.getElementById('loveMessage');

            let current = 0;
            const target = (name1 === 'jonas' && name2 === 'nicoly') ||
                (name1 === 'nicoly' && name2 === 'jonas')
                ? 99 : 92 + Math.floor(Math.random() * 8);

            const counter = setInterval(() => {
                current += Math.ceil((target - current) / 5);
                if (current >= target) {
                    current = target;
                    clearInterval(counter);
                    const messages = [
                        "Amor verdadeiro e eterno! üíï",
                        "Conex√£o divina! ‚ú®",
                        "Feitos um para o outro! üíç",
                        "O destino os uniu! üåü"
                    ];
                    messageEl.textContent = messages[Math.floor(Math.random() * messages.length)];
                    createConfetti();
                }
                resultEl.textContent = current + '%';
            }, 100);

            if (navigator.vibrate) navigator.vibrate([100, 50, 100]);
        }

        function createConfetti() {
            for (let i = 0; i < 20; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart-cursor';
                heart.innerHTML = ['üíï', 'üíñ', 'üíó', '‚ú®'][Math.floor(Math.random() * 4)];
                heart.style.cssText = `
            position: fixed;
            pointer-events: none;
            font-size: ${1 + Math.random()}rem;
            left: ${50 + Math.random() * 40 - 20}%;
            top: 50%;
            animation: heartFade 1.5s ease-out forwards;
            z-index: 9999;
        `;
                document.body.appendChild(heart);
                setTimeout(() => heart.remove(), 1500);
            }
        }

        // Couple Quiz
        function submitQuiz() {
            // ============================================
            // RESPOSTAS CORRETAS:
            // Q1: value="2" ‚Üí Shopping
            // Q2: value="1" ‚Üí Interessante - Ferrugem
            // Q3: value="2" ‚Üí Oi te amo
            // Q4: value="0" ‚Üí Nunca dormir brigado
            // Q5: TODAS corretas (pegadinha ‚ù§Ô∏è)
            // Q6: value="0" ‚Üí B√≠blia e f√©
            // ============================================

            let score = 0;
            const totalQuestions = 6;

            // Pergunta 1: Shopping = value 2
            const q1 = document.querySelector('input[name="q1"]:checked');
            if (q1 && parseInt(q1.value) === 2) score++;

            // Pergunta 2: Interessante = value 1
            const q2 = document.querySelector('input[name="q2"]:checked');
            if (q2 && parseInt(q2.value) === 1) score++;

            // Pergunta 3: Oi te amo = value 2
            const q3 = document.querySelector('input[name="q3"]:checked');
            if (q3 && parseInt(q3.value) === 2) score++;

            // Pergunta 4: Nunca dormir brigado = value 0
            const q4 = document.querySelector('input[name="q4"]:checked');
            if (q4 && parseInt(q4.value) === 0) score++;

            // Pergunta 5: PEGADINHA - TODAS corretas! Qualquer op√ß√£o conta como acerto ‚ù§Ô∏è
            const q5 = document.querySelector('input[name="q5"]:checked');
            if (q5) score++; // Se selecionou qualquer uma, ganhou o ponto!

            // Pergunta 6: B√≠blia e f√© = value 0
            const q6 = document.querySelector('input[name="q6"]:checked');
            if (q6 && parseInt(q6.value) === 0) score++;

            // Calcula porcentagem
            const percentage = Math.round((score / totalQuestions) * 100);

            // Exibe resultado
            const resultEl = document.getElementById('quizResult');
            const scoreEl = document.getElementById('quizScore');
            const messageEl = document.getElementById('quizMessage');
            const submitBtn = document.getElementById('quizSubmitBtn');
            const resetBtn = document.getElementById('quizResetBtn');

            scoreEl.textContent = `Voc√™ acertou ${percentage}%!`;

            // ========== MENSAGENS POR FAIXA DE PONTUA√á√ÉO ==========

            // üíî 0-33%: Dram√°tico/Sensacionalista
            const lowMessages = [
                "üò¢ N√£o me ama o suficiente...",
                "üíî Ser√° que ainda me ama?",
                "üò≠ Precisa me conhecer melhor...",
                "üíî Me decepcionou agora...",
                "üò¢ Acho que preciso te contar mais coisas...",
                "üíî Nosso amor precisa de mais aten√ß√£o...",
            ];

            // üòê 34-66%: M√©dio/Brincadeira
            const mediumMessages = [
                "üòê At√© que foi mais ou menos...",
                "ü§î Conhecemos um pouco um ao outro",
                "üòÖ Podia ter sido melhor, n√©?",
                "üôÉ Nem t√£o mal, nem t√£o bom...",
                "üòê Precisamos de mais dates pra memorizar!",
                "ü§® Hmm, tenho minhas d√∫vidas...",
                "üòÖ Quase l√°, mas n√£o √© 100%...",
            ];

            // üíï 67-100%: Rom√¢ntico/Doce
            const highMessages = [
                "Voc√™s se conhecem como ningu√©m! üíï",
                "Conex√£o perfeita! ‚ú®",
                "O amor de voc√™s √© especial! üíñ",
                "Continuem assim! üåü",
                "Isso sim √© amor verdadeiro! üíë",
                "Voc√™s s√£o a defini√ß√£o de casal perfeito! üíï",
                "Que lindo ver essa conex√£o! ‚ú®",
                "O amor de voc√™s inspira! üíñ",
                "Juntos s√£o mais fortes! üí™",
                "Essa sintonia √© rara! üåü"
            ];

            // Seleciona a mensagem baseada na porcentagem
            if (percentage <= 33) {
                messageEl.textContent = lowMessages[Math.floor(Math.random() * lowMessages.length)];
                messageEl.style.color = "#f08080";
            } else if (percentage <= 66) {
                messageEl.textContent = mediumMessages[Math.floor(Math.random() * mediumMessages.length)];
                messageEl.style.color = "#e0dcdb";
            } else {
                messageEl.textContent = highMessages[Math.floor(Math.random() * highMessages.length)];
                messageEl.style.color = "#f08080";
            }

            // Mostra/Esconde bot√µes
            resultEl.classList.add('show');
            submitBtn.style.display = 'none';
            resetBtn.classList.add('show');

            // Haptic feedback ao finalizar
            if (navigator.vibrate) {
                if (percentage <= 33) {
                    navigator.vibrate([100, 50, 100, 50, 100]); // Vibra√ß√£o "triste"
                } else if (percentage >= 83) {
                    navigator.vibrate([200, 100, 200]); // Vibra√ß√£o "feliz"
                    createConfetti(); // Confetti apenas para altas pontua√ß√µes
                } else {
                    navigator.vibrate(150); // Vibra√ß√£o normal
                }
            }
        }

        // Bot√£o "Tentar de novo?"
        function resetQuiz() {
            document.querySelectorAll('#quizQuestions input[type="radio"]').forEach(radio => {
                radio.checked = false;
            });

            const resultEl = document.getElementById('quizResult');
            const submitBtn = document.getElementById('quizSubmitBtn');
            const resetBtn = document.getElementById('quizResetBtn');

            resultEl.classList.remove('show');
            submitBtn.style.display = 'block';
            resetBtn.classList.remove('show');

            document.getElementById('quizScore').textContent = '';
            document.getElementById('quizMessage').textContent = '';

            document.querySelector('.couple-quiz').scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });

            if (navigator.vibrate) navigator.vibrate(30);
        }

        // ========== INICIALIZA√á√ÉO ==========
        document.addEventListener('DOMContentLoaded', () => {
            initHeartParticles();
            initAnimeElasticity();
            initHapticFeedback();
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeModal();
        });
    </script>
</body>

</html>